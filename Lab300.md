
## Lab 300 - Kubernetes 환경 설정
사용할 Kubernetes를 OCI 환경의 Kubernetes 클러스터를 구성하고 클라이언트에서 kubectl로 작업하기 위해서는 환경 설정 작업이 필요합니다. 이 부분에 대해서 실습합니다.<br>
**실습 편의성을 위해 이미 환경을 구성해 놓았지만, 직접 해보기를 원하시는 분은 따라해 보시기 바랍니다.**


### **STEP 1**: OCI 콘솔 로그인

**각자의 OCI Console URL 및 접속 사용자는 Cloud Account을 참고합니다.**

1. 다음 URL을 통해 OCI Console로 바로 접속합니다.<br>
  https://console.{region_name}.oraclecloud.com/

2. 아래 화면이 나오면 접속할 Tenant 이름을 입력합니다.<br>
  ![](images/300_oci_console_1.png)

3. 싱글사인온 유저가 아닌 오른쪽 OCI 직접 로그인을 통해 로그인합니다.<br>
  ![](images/300_oci_console_2.png)  


### **STEP 2**: OKE 사용권한 설정
OKE가 나의 자원을 사용할 수 있게 권한 설정이 필요합니다.

1. 왼쪽 위의 내비게이션 메뉴를 클릭합니다.<br>
  ![](images/300_oke_policy_1.png)  

2. Identity > Policy 로 이동합니다.<br>  
  ![](images/300_oke_policy_2.png)  

3. **Create Policy** 클릭<br>  
  ![](images/300_oke_policy_3.png)  

4. **OKEPolicy** 란 이름의 새 Policy를 생성합니다.<br> 
  - 설정 정책: **`allow service OKE to manage all-resources in tenancy`**
  ![](images/300_oke_policy_4.png)        


### **STEP 3**: Kubernetes 전용 Compartment 생성
Compartment는 OCI Tenant 내에서 자원들을 별도로 관리하기 위한 폴더라고 생각하시면 됩니다. Group별로 Compartment에 권한을 별도로 분리할 수 있는 OCI의 고유한 기능입니다. Root Compartment에 모든 작업을 해도 되지만, 분리가 필요할 경우 사용할 수 있습니다.

1. 왼쪽 위의 내비게이션 메뉴를 클릭합니다.<br>

2. Identity > Compartments 로 이동합니다.<br>
  ![](images/300_oke_compartment_1.png)  

3. **Create Compartment** 클릭<br>
  ![](images/300_oke_compartment_2.png)  

4. **OKEComp** 란 이름의 새 Compartment를 생성합니다.<br> 
  ![](images/300_oke_compartment_3.png)  


### **STEP 4**: Kubernentes Cluster 만들기

### **STEP 5**: OCI CLI로 kubeconfig 파일 다운로드

### **STEP 6**: 클라이트 환경에 kubectl 설치 및 테스트
